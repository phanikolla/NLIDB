{"prompt":"Find the number of complaints submitted via each submission method ->","completion":"SELECT Submitted_via, COUNT(*) as num_complaints FROM Consumercomplaints GROUP BY Submitted_via\n"}
{"prompt":"Find the total number of complaints received for each company ->","completion":"SELECT Company, COUNT(*) as num_complaints FROM Consumercomplaints GROUP BY Company\n"}
{"prompt":"Find the number of complaints received for each product ->","completion":"SELECT pm.product_name, COUNT(*) as num_complaints FROM Consumercomplaints cc INNER JOIN prod_mapping pm ON cc.mapping_id = pm.mapping_id INNER JOIN Product_master pm2 ON pm.product_ID = pm2.product_ID GROUP BY pm.product_name\n"}
{"prompt":"Find the number of complaints received for each sub-product ->","completion":"SELECT spm.subproduct_name, COUNT(*) as num_complaints FROM Consumercomplaints cc INNER JOIN prod_mapping pm ON cc.mapping_id = pm.mapping_id INNER JOIN sub_prod_master spm ON pm.subproduct_ID = spm.subproduct_ID GROUP BY spm.subproduct_name\n"}
{"prompt":"Find the average number of complaints received per day ->","completion":"SELECT AVG(num_complaints) as avg_complaints_per_day FROM (SELECT DATE(Date_received) as received_date, COUNT(*) as num_complaints FROM Consumercomplaints GROUP BY received_date ) subquery\n"}
{"prompt":"Find the percentage of complaints where the consumer disputed the company's response ->","completion":"SELECT COUNT(*) * 100.0 / (SELECT COUNT(*) FROM Consumercomplaints) as dispute_percentage FROM Consumercomplaints WHERE Consumer_disputed = 'Yes'\n"}
{"prompt":"Find the most common complaint issues for each company ->","completion":"SELECT Company, Issue, COUNT(*) as num_complaints FROM Consumercomplaints GROUP BY Company, Issue HAVING COUNT(*) = (  SELECT MAX(num_complaints2) FROM (SELECT Company as Company2, COUNT(*) as num_complaints2 FROM Consumercomplaints GROUP BY Company2, Issue ) subquery2 WHERE Company = Company2 )\n"}
{"prompt":"Find the products with the most complaints that were submitted via the website ->","completion":"SELECT pm.product_name, COUNT(*) as num_complaints FROM Consumercomplaints cc INNER JOIN prod_mapping pm ON cc.mapping_id = pm.mapping_id INNER JOIN Product_master pm2 ON pm.product_ID = pm2.product_ID WHERE Submitted_via = 'Web' GROUP BY pm.product_name ORDER BY num_complaints DESC LIMIT 5\n"}
{"prompt":"Find all complaints related to a particular product name and sub-product name ->","completion":"SELECT cc.* FROM Consumercomplaints cc INNER JOIN prod_mapping pm ON cc.mapping_id = pm.mapping_id INNER JOIN Product_master pm2 ON pm.product_ID = pm2.product_ID INNER JOIN sub_prod_master spm ON pm.subproduct_ID = spm.subproduct_ID WHERE pm2.product_name = 'Product 1' AND spm.subproduct_name = 'Sub-Product 1'\n"}
{"prompt":"Find the number of complaints per product name and sub-product name ->","completion":"SELECT pm2.product_name, spm.subproduct_name, COUNT(*) as num_complaints FROM Consumercomplaints cc INNER JOIN prod_mapping pm ON cc.mapping_id = pm.mapping_id INNER JOIN Product_master pm2 ON pm.product_ID = pm2.product_ID INNER JOIN sub_prod_master spm ON pm.subproduct_ID = spm.subproduct_ID GROUP BY pm2.product_name, spm.subproduct_name\n"}
{"prompt":"Find the most common issue per product name and sub-product name ->","completion":"SELECT pm2.product_name, spm.subproduct_name, cc.Issue, COUNT(*) as num_complaints FROM Consumercomplaints cc INNER JOIN prod_mapping pm ON cc.mapping_id = pm.mapping_id INNER JOIN Product_master pm2 ON pm.product_ID = pm2.product_ID INNER JOIN sub_prod_master spm ON pm.subproduct_ID = spm.subproduct_ID  GROUP BY pm2.product_name, spm.subproduct_name, cc.Issue HAVING COUNT(*) = (SELECT MAX(num_complaints2)FROM (SELECT pm3.product_name as product_name2, spm2.subproduct_name as subproduct_name2, Issue as Issue2, COUNT(*) as num_complaints2 FROM Consumercomplaints cc2 NNER JOIN prod_mapping pm3 ON cc2.mapping_id = pm3.mapping_id INNER JOIN Product_master pm4 ON pm3.product_ID = pm4.product_ID     INNER JOIN sub_prod_master spm2 ON pm3.subproduct_ID = spm2.subproduct_ID GROUP BY pm3.product_name, spm2.subproduct_name, Issue2) subquery2 WHERE pm2.product_name = product_name2 AND spm.subproduct_name = subproduct_name2)\n"}
{"prompt":"Find the number of complaints received for each product by year ->","completion":"SELECT pm2.product_name, YEAR(Date_received) as year_received, COUNT(*) as num_complaints FROM Consumercomplaints cc INNER JOIN prod_mapping pm ON cc.mapping_id = pm.mapping_id INNER JOIN Product_master pm2 ON pm.product_ID = pm2.product_ID GROUP BY pm2.product_name, year_received\n"}
{"prompt":"Find the sub-product with the most complaints that were disputed by the consumer ->","completion":"SELECT spm.subproduct_name, COUNT(*) as num_complaints FROM Consumercomplaints cc INNER JOIN prod_mapping pm ON cc.mapping_id = pm.mapping_id INNER JOIN sub_prod_master spm ON pm.subproduct_ID = spm.subproduct_ID WHERE cc.Consumer_disputed = 'Yes' GROUP BY spm.subproduct_name ORDER BY num_complaints DESC LIMIT 1\n"}
